!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@covalent/markdown"),require("@angular/platform-browser"),require("@angular/common/http"),require("@angular/material/button"),require("@angular/material/tooltip"),require("@angular/material/list"),require("@angular/material/icon"),require("@angular/material/progress-bar"),require("@covalent/flavored-markdown"),require("@covalent/core/dialogs"),require("@covalent/core/message")):"function"==typeof define&&define.amd?define("@covalent/markdown-navigator",["exports","@angular/core","@angular/common","@covalent/markdown","@angular/platform-browser","@angular/common/http","@angular/material/button","@angular/material/tooltip","@angular/material/list","@angular/material/icon","@angular/material/progress-bar","@covalent/flavored-markdown","@covalent/core/dialogs","@covalent/core/message"],e):e(((t=t||self).covalent=t.covalent||{},t.covalent["markdown-navigator"]={}),t.ng.core,t.ng.common,t.covalent.markdown,t.ng.platformBrowser,t.ng.common.http,t.ng.material.button,t.ng.material.tooltip,t.ng.material.list,t.ng.material.icon,t.ng.material.progressBar,t.flavoredMarkdown,t.covalent.core.dialogs,t.covalent.core.message)}(this,(function(t,e,r,n,o,a,i,l,s,c,d,u,h,g){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var p=function(){return(p=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function m(t,e,r,n){return new(r||(r=Promise))((function(o,a){function i(t){try{s(n.next(t))}catch(t){a(t)}}function l(t){try{s(n.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(i,l)}s((n=n.apply(t,e||[])).next())}))}function f(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function b(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function k(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(w(arguments[e]));return t}var y={goHome:"Go home",goBack:"Go back",emptyState:"No item(s) to display"};function v(t,e){return t.id&&e.id?t.id===e.id:t===e}var I=function(){function t(t,r,n,o){this._markdownUrlLoaderService=t,this._changeDetectorRef=r,this._sanitizer=n,this._http=o,this.buttonClicked=new e.EventEmitter,this.historyStack=[],this.currentMenuItems=[],this.loading=!1}return t.prototype.clickListener=function(t){var e,r=t.srcElement;r.matches("a[href]")&&(e=r,!n.isAnchorLink(e)&&e.pathname.endsWith(".md"))&&this.handleLinkClick(t)},Object.defineProperty(t.prototype,"showGoBackButton",{get:function(){return this.historyStack.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHomeButton",{get:function(){return this.historyStack.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this.showHomeButton||this.showGoBackButton||!!this.currentItemTitle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMenu",{get:function(){return this.currentMenuItems&&this.currentMenuItems.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTdMarkdownLoader",{get:function(){return!!this.currentMarkdownItem&&!!this.currentMarkdownItem.url&&!this.showTdMarkdown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTdMarkdown",{get:function(){return!!this.currentMarkdownItem&&!!this.currentMarkdownItem.markdownString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){if(this.currentMarkdownItem)return this.currentMarkdownItem.url},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"footerComponent",{get:function(){return this.currentMarkdownItem&&this.currentMarkdownItem.footer?this.currentMarkdownItem.footer:this.footer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"httpOptions",{get:function(){if(this.currentMarkdownItem)return this.currentMarkdownItem.httpOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markdownString",{get:function(){if(this.currentMarkdownItem)return this.currentMarkdownItem.markdownString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){if(this.currentMarkdownItem)return this.currentMarkdownItem.anchor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showEmptyState",{get:function(){return!this.items||this.items.length<1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"goHomeLabel",{get:function(){return this.labels&&this.labels.goHome||y.goHome},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"goBackLabel",{get:function(){return this.labels&&this.labels.goBack||y.goBack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emptyStateLabel",{get:function(){return this.labels&&this.labels.emptyState||y.emptyState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentItemTitle",{get:function(){return this.historyStack.length<1?"":this.currentMarkdownItem?this.getTitle(this.currentMarkdownItem):this.historyStack.length>0?this.getTitle(this.historyStack[this.historyStack.length-1]):""},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){return m(this,void 0,void 0,(function(){return f(this,(function(e){return t.items&&this.reset(),t.startAt&&this.items&&this.startAt&&this._jumpTo(this.startAt),[2]}))}))},t.prototype.hasChildrenOrChildrenUrl=function(t){return t.children&&t.children.length>0||!!t.childrenUrl},t.prototype.clearErrors=function(){this.markdownLoaderError=void 0,this.childrenUrlError=void 0},t.prototype.reset=function(){this.loading=!1,this.clearErrors(),this.items&&1===this.items.length&&!this.hasChildrenOrChildrenUrl(this.items[0])?(this.currentMenuItems=[],this.currentMarkdownItem=this.items[0]):(this.currentMenuItems=this.items,this.currentMarkdownItem=void 0),this.historyStack=[],this._changeDetectorRef.markForCheck()},t.prototype.goBack=function(){if(this.loading=!1,this.clearErrors(),this.historyStack.length>1){var t=this.historyStack[this.historyStack.length-2];this.currentMarkdownItem=t,this.historyStack=this.historyStack.slice(0,-1),this.setChildrenAsCurrentMenuItems(t)}else this.reset();this._changeDetectorRef.markForCheck()},t.prototype.handleItemSelected=function(t){this.clearErrors(),this.currentMarkdownItem=t,this.historyStack=k(this.historyStack,[t]),this.setChildrenAsCurrentMenuItems(t),this._changeDetectorRef.markForCheck()},t.prototype.setChildrenAsCurrentMenuItems=function(t){return m(this,void 0,void 0,(function(){var e,r,n;return f(this,(function(o){switch(o.label){case 0:return this.currentMenuItems=[],this.loading=!0,this._changeDetectorRef.markForCheck(),e=this.historyStack,r=[],t.children?(r=t.children,[3,3]):[3,1];case 1:return t.childrenUrl?[4,this.loadChildrenUrl(t)]:[3,3];case 2:r=o.sent(),o.label=3;case 3:return n=this.historyStack,e.length===n.length&&e.every((function(t,e){return t===n[e]}))&&(this.currentMenuItems=r),this.loading=!1,this._changeDetectorRef.markForCheck(),[2]}}))}))},t.prototype.loadChildrenUrl=function(t){return m(this,void 0,void 0,(function(){var r,n;return f(this,(function(o){switch(o.label){case 0:r=this._sanitizer.sanitize(e.SecurityContext.URL,t.childrenUrl),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this._http.get(r,p({},t.httpOptions)).toPromise()];case 2:return[2,o.sent()];case 3:return n=o.sent(),this.handleChildrenUrlError(n),[2,[]];case 4:return[2]}}))}))},t.prototype.getTitle=function(t){if(t)return(n.removeLeadingHash(t.anchor)||t.title||function(t){if(t){var e=new URL(t);if(e.hash)return n.removeLeadingHash(e.hash);var r=e.pathname.split("/");return r[r.length-1].replace(/\.[^/.]+$/,"")}}(t.url)||function(t){if(t){var e=t.split(/[\r\n]+/).find((function(t){return!!t}));return n.removeLeadingHash(e).trim()}}(t.markdownString)||"").trim()},t.prototype.getIcon=function(t){if(t)return t.icon||"subject"},t.prototype.handleChildrenUrlError=function(t){this.childrenUrlError=t.message,this._changeDetectorRef.markForCheck()},t.prototype.handleMarkdownLoaderError=function(t){this.markdownLoaderError=t.message,this._changeDetectorRef.markForCheck()},t.prototype._jumpTo=function(t){return m(this,void 0,void 0,(function(){var e,r=this;return f(this,(function(n){switch(n.label){case 0:return this.reset(),this.items&&this.items.length>0?(e=[],Array.isArray(t)?[4,this.followPath(this.items,t)]:[3,2]):[3,4];case 1:return e=n.sent(),[3,3];case 2:e=this.findPath(this.items,t),n.label=3;case 3:(e||[]).forEach((function(t){return r.handleItemSelected(t)})),n.label=4;case 4:return this._changeDetectorRef.markForCheck(),[2]}}))}))},t.prototype.followPath=function(t,e){return m(this,void 0,void 0,(function(){var r,n,o,a,i,l,s,c,d,u,h;return f(this,(function(g){switch(g.label){case 0:r=[],n=t,o=this.compareWith||v,a=function(t){var e;return f(this,(function(a){switch(a.label){case 0:return(e=n.find((function(e){return o(t,e)})))?(r=k(r,[e]),e.children?(n=e.children,[3,3]):[3,1]):[3,4];case 1:return e.childrenUrl?[4,i.loadChildrenUrl(e)]:[3,3];case 2:n=a.sent(),a.label=3;case 3:return[3,5];case 4:return[2,"break"];case 5:return[2]}}))},i=this,g.label=1;case 1:g.trys.push([1,6,7,8]),l=b(e),s=l.next(),g.label=2;case 2:return s.done?[3,5]:(c=s.value,[5,a(c)]);case 3:if("break"===g.sent())return[3,5];g.label=4;case 4:return s=l.next(),[3,2];case 5:return[3,8];case 6:return d=g.sent(),u={error:d},[3,8];case 7:try{s&&!s.done&&(h=l.return)&&h.call(l)}finally{if(u)throw u.error}return[7];case 8:return r.length!==e.length&&(r=[]),[2,r]}}))}))},t.prototype.findPath=function(t,e){var r,n,o=this.compareWith||v;if(t)try{for(var a=b(t),i=a.next();!i.done;i=a.next()){var l=i.value;if(o(l,e))return[l];var s=this.findPath(l.children,e);if(s)return k([l],s)}}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}},t.prototype.handleLinkClick=function(t){return m(this,void 0,void 0,(function(){var e,r,n;return f(this,(function(o){switch(o.label){case 0:t.preventDefault(),e=t.target,r=new URL(e.href),this.loading=!0,this._changeDetectorRef.markForCheck(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this._markdownUrlLoaderService.load(r.href)];case 2:return n=o.sent(),this.handleItemSelected({markdownString:n,url:r.href}),this.markdownWrapper.nativeElement.scrollTop=0,[3,5];case 3:return o.sent(),window.open(r.href,"_blank").focus(),[3,5];case 4:return this.loading=!1,[7];case 5:return this._changeDetectorRef.markForCheck(),[2]}}))}))},t.decorators=[{type:e.Component,args:[{selector:"td-markdown-navigator",template:'<ng-container *ngIf="!showEmptyState">\n  <mat-progress-bar *ngIf="loading" mode="indeterminate" color="accent"></mat-progress-bar>\n\n  <ng-container *ngIf="showHeader">\n    <div [style.display]="\'flex\'">\n      <button\n        id="td-markdown-navigator-home-button"\n        *ngIf="showHomeButton"\n        mat-icon-button\n        [matTooltip]="goHomeLabel"\n        (click)="reset()"\n        [attr.data-test]="\'home-button\'"\n      >\n        <mat-icon [attr.aria-label]="goHomeLabel">\n          home\n        </mat-icon>\n      </button>\n\n      <button\n        id="td-markdown-navigator-back-button"\n        *ngIf="showGoBackButton"\n        mat-icon-button\n        [matTooltip]="goBackLabel"\n        (click)="goBack()"\n        [attr.data-test]="\'back-button\'"\n      >\n        <mat-icon [attr.aria-label]="goBackLabel">\n          arrow_back\n        </mat-icon>\n      </button>\n      <span flex *ngIf="currentItemTitle" class="mat-body-2 title truncate" [attr.data-test]="\'title\'">\n        {{ currentItemTitle }}\n      </span>\n    </div>\n\n    <mat-divider [style.position]="\'relative\'"></mat-divider>\n  </ng-container>\n\n  <div class="scroll-area" id="td-markdown-navigator-content">\n    <td-message\n      *ngIf="childrenUrlError"\n      [sublabel]="childrenUrlError"\n      color="warn"\n      icon="error"\n      [attr.data-test]="\'children-url-error\'"\n    ></td-message>\n    <div *ngIf="showMenu" class="td-markdown-list">\n      <mat-action-list>\n        <button\n          *ngFor="let item of currentMenuItems; index as index"\n          [id]="\'td-markdown-navigator-list-item-\' + (item.id ? item.id : index)"\n          (click)="handleItemSelected(item)"\n          mat-list-item\n          [matTooltip]="getTitle(item)"\n          matTooltipPosition="before"\n          matTooltipShowDelay="500"\n        >\n          <mat-icon matListIcon>\n            {{ getIcon(item) }}\n          </mat-icon>\n          <span matLine class="truncate">\n            {{ getTitle(item) }}\n          </span>\n          <span matLine class="truncate">{{ item.description }}</span>\n          <mat-divider></mat-divider>\n        </button>\n      </mat-action-list>\n    </div>\n\n    <div *ngIf="showTdMarkdownLoader || showTdMarkdown" class="markdown-wrapper" #markdownWrapper>\n      <td-message\n        *ngIf="markdownLoaderError"\n        [sublabel]="markdownLoaderError"\n        color="warn"\n        icon="error"\n        [attr.data-test]="\'markdown-loader-error\'"\n      ></td-message>\n      <td-flavored-markdown-loader\n        *ngIf="showTdMarkdownLoader"\n        [url]="url"\n        [httpOptions]="httpOptions"\n        [anchor]="anchor"\n        (loadFailed)="handleMarkdownLoaderError($event)"\n      ></td-flavored-markdown-loader>\n\n      <td-flavored-markdown\n        *ngIf="showTdMarkdown"\n        [content]="markdownString"\n        [hostedUrl]="url"\n        [anchor]="anchor"\n        (buttonClicked)="buttonClicked.emit($event)"\n      ></td-flavored-markdown>\n    </div>\n    <ng-container *ngComponentOutlet="footerComponent"></ng-container>\n  </div>\n</ng-container>\n\n<div *ngIf="showEmptyState" layout="column" layout-align="center center" class="empty-state">\n  <mat-icon matListAvatar>subject</mat-icon>\n  <h2>{{ emptyStateLabel }}</h2>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[":host{position:relative;height:100%;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host .scroll-area{min-height:1px;overflow-y:auto;-ms-flex:1;flex:1;box-sizing:border-box}:host .markdown-wrapper{padding:16px 16px 0}:host .td-markdown-list>.mat-list{padding-top:0}:host td-flavored-markdown-loader ::ng-deep .mat-progress-bar{top:0;left:0;right:0;position:absolute}:host .title{display:inline-block;vertical-align:middle;margin:8px 0;padding-left:16px}.truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.empty-state{padding:32px}.empty-state mat-icon{font-size:4em}"]}]}],t.ctorParameters=function(){return[{type:n.TdMarkdownLoaderService},{type:e.ChangeDetectorRef},{type:o.DomSanitizer},{type:a.HttpClient}]},t.propDecorators={items:[{type:e.Input}],labels:[{type:e.Input}],startAt:[{type:e.Input}],footer:[{type:e.Input}],compareWith:[{type:e.Input}],buttonClicked:[{type:e.Output}],markdownWrapper:[{type:e.ViewChild,args:["markdownWrapper"]}],clickListener:[{type:e.HostListener,args:["click",["$event"]]}]},t}();var D={title:"Help",close:"Close",dock:"Dock",unDock:"Undock"},C=function(){function t(){this.toolbarColor="primary",this.docked=!1,this.closed=new e.EventEmitter,this.dockToggled=new e.EventEmitter,this.buttonClicked=new e.EventEmitter}return Object.defineProperty(t.prototype,"markdownNavigatorLabels",{get:function(){if(this.labels){var t=this.labels;return{goHome:t.goHome,goBack:t.goBack,emptyState:t.emptyState}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleLabel",{get:function(){return this.labels&&this.labels.title||D.title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeLabel",{get:function(){return this.labels&&this.labels.close||D.close},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggleDockedStateLabel",{get:function(){return this.docked?this.labels&&this.labels.unDock||D.unDock:this.labels&&this.labels.dock||D.dock},enumerable:!0,configurable:!0}),t.prototype.toggleDockedState=function(){this.dockToggled.emit(this.docked)},t.decorators=[{type:e.Component,args:[{selector:"td-markdown-navigator-window",template:'<td-window-dialog\n  [toolbarColor]="toolbarColor"\n  [docked]="docked"\n  [title]="titleLabel"\n  [toggleDockedStateLabel]="toggleDockedStateLabel"\n  [closeLabel]="closeLabel"\n  (dockToggled)="toggleDockedState()"\n  (closed)="closed.emit()"\n>\n  <td-markdown-navigator\n    [items]="items"\n    [labels]="markdownNavigatorLabels"\n    [style.display]="docked ? \'none\' : \'inherit\'"\n    [startAt]="startAt"\n    [compareWith]="compareWith"\n    [footer]="footer"\n    (buttonClicked)="buttonClicked.emit($event)"\n  ></td-markdown-navigator>\n</td-window-dialog>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[":host{height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}td-markdown-navigator{height:calc(100% - 56px)}"]}]}],t.propDecorators={items:[{type:e.Input}],labels:[{type:e.Input}],toolbarColor:[{type:e.Input}],startAt:[{type:e.Input}],compareWith:[{type:e.Input}],docked:[{type:e.Input}],footer:[{type:e.Input}],closed:[{type:e.Output}],dockToggled:[{type:e.Output}],buttonClicked:[{type:e.Output}]},t}();var M={bottom:"0px",right:"0px"},S={hasBackdrop:!1,closeOnNavigation:!0,panelClass:["td-window-dialog"],position:M,height:"75vh",width:"360px",maxWidth:"100vw"};var x=function(){function t(t,e,r){this._tdDialogService=t,this._document=e,this.rendererFactory=r,this.markdownNavigatorWindowDialog=void 0,this.markdownNavigatorWindowDialogsOpen=0,this._renderer2=r.createRenderer(void 0,void 0)}return t.prototype.open=function(t){var e=this;this.close();var r=k(S.panelClass);t.dialogConfig&&t.dialogConfig.panelClass&&(r=Array.isArray(t.dialogConfig.panelClass)?k(t.dialogConfig.panelClass):[t.dialogConfig.panelClass]);var n=p(p(p({},S),t.dialogConfig),{panelClass:r}),o=this._tdDialogService.openDraggable({component:C,config:n,dragHandleSelectors:[".td-window-dialog-toolbar"],draggableClass:"td-draggable-markdown-navigator-window"}),a=o.matDialogRef,i=o.dragRefSubject;return this.markdownNavigatorWindowDialog=a,this.markdownNavigatorWindowDialog.componentInstance.items=t.items,this.markdownNavigatorWindowDialog.componentInstance.labels=t.labels,this.markdownNavigatorWindowDialog.componentInstance.startAt=t.startAt,this.markdownNavigatorWindowDialog.componentInstance.compareWith=t.compareWith,this.markdownNavigatorWindowDialog.componentInstance.toolbarColor="toolbarColor"in t?t.toolbarColor:"primary",this.markdownNavigatorWindowDialogsOpen++,this.markdownNavigatorWindowDialog.componentInstance.footer=t.footer,i.subscribe((function(t){e.dragRef=t,e.resizableDraggableDialog=new h.ResizableDraggableDialog(e._document,e._renderer2,e.markdownNavigatorWindowDialog,e.dragRef)})),this._handleEvents(),this.markdownNavigatorWindowDialog},t.prototype.close=function(){this.markdownNavigatorWindowDialog&&(this.resizableDraggableDialog&&this.resizableDraggableDialog.detach(),this.markdownNavigatorWindowDialog.close())},Object.defineProperty(t.prototype,"isOpen",{get:function(){return this.markdownNavigatorWindowDialogsOpen>0},enumerable:!0,configurable:!0}),t.prototype._handleEvents=function(){var t,e,r=this;this.markdownNavigatorWindowDialog.componentInstance.closed.subscribe((function(){return r.close()})),this.markdownNavigatorWindowDialog.componentInstance.dockToggled.subscribe((function(n){n?(r.markdownNavigatorWindowDialog.componentInstance.docked=!1,r.markdownNavigatorWindowDialog.updateSize(e.width,e.height),r.markdownNavigatorWindowDialog.updatePosition({top:"0px",right:"0px",bottom:"0px",left:"0px"}),r.dragRef.setFreeDragPosition(t),r.dragRef.disabled=!1,r.resizableDraggableDialog.attach()):(e=r._getDialogSize(r.markdownNavigatorWindowDialog),t=r.dragRef.getFreeDragPosition(),r.markdownNavigatorWindowDialog.componentInstance.docked=!0,r.markdownNavigatorWindowDialog.updateSize("360px","56px"),r.markdownNavigatorWindowDialog.updatePosition(M),r.dragRef.reset(),r.dragRef.disabled=!0,r.resizableDraggableDialog.detach())})),this.markdownNavigatorWindowDialog.afterClosed().toPromise().then((function(){r.markdownNavigatorWindowDialogsOpen--}))},t.prototype._getDialogSize=function(t){var e=getComputedStyle(this._document.getElementById(t.id).parentElement);return{width:e.width,height:e.height}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:h.TdDialogService},{type:void 0,decorators:[{type:e.Inject,args:[r.DOCUMENT]}]},{type:e.RendererFactory2}]},t}();var L=function(){function t(t){this._markdownNavigatorWindowService=t,this.disabled=!1}return t.prototype.click=function(){this.disabled||this._markdownNavigatorWindowService.open(this.config)},t.decorators=[{type:e.Directive,args:[{selector:"[tdMarkdownNavigatorWindow]"}]}],t.ctorParameters=function(){return[{type:x}]},t.propDecorators={config:[{type:e.Input,args:["tdMarkdownNavigatorWindow"]}],disabled:[{type:e.Input}],click:[{type:e.HostListener,args:["click"]}]},t}();var O=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[r.CommonModule,i.MatButtonModule,l.MatTooltipModule,s.MatListModule,c.MatIconModule,d.MatProgressBarModule,g.CovalentMessageModule,u.CovalentFlavoredMarkdownModule,h.CovalentDialogsModule],declarations:[I,C,L],exports:[I,C,L],providers:[x]}]}],t}();t.CovalentMarkdownNavigatorModule=O,t.DEFAULT_MARKDOWN_NAVIGATOR_LABELS=y,t.DEFAULT_MARKDOWN_NAVIGATOR_WINDOW_LABELS=D,t.TdMarkdownNavigatorComponent=I,t.TdMarkdownNavigatorWindowComponent=C,t.TdMarkdownNavigatorWindowService=x,t.ɵa=L,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=covalent-markdown-navigator.umd.min.js.map