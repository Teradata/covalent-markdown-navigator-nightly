!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@covalent/markdown"),require("@angular/platform-browser"),require("@angular/common/http"),require("@angular/material/button"),require("@angular/material/tooltip"),require("@angular/material/list"),require("@angular/material/icon"),require("@angular/material/progress-bar"),require("@covalent/flavored-markdown"),require("@covalent/core/dialogs"),require("@covalent/core/message")):"function"==typeof define&&define.amd?define("@covalent/markdown-navigator",["exports","@angular/core","@angular/common","@covalent/markdown","@angular/platform-browser","@angular/common/http","@angular/material/button","@angular/material/tooltip","@angular/material/list","@angular/material/icon","@angular/material/progress-bar","@covalent/flavored-markdown","@covalent/core/dialogs","@covalent/core/message"],e):e(((t=t||self).covalent=t.covalent||{},t.covalent["markdown-navigator"]={}),t.ng.core,t.ng.common,t.covalent.markdown,t.ng.platformBrowser,t.ng.common.http,t.ng.material.button,t.ng.material.tooltip,t.ng.material.list,t.ng.material.icon,t.ng.material.progressBar,t.flavoredMarkdown,t.covalent.core.dialogs,t.covalent.core.message)}(this,(function(t,e,o,r,n,a,i,l,s,c,d,u,h,p){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var g=function(){return(g=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function m(t,e,o,r){return new(o||(o=Promise))((function(n,a){function i(t){try{s(r.next(t))}catch(t){a(t)}}function l(t){try{s(r.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(i,l)}s((r=r.apply(t,e||[])).next())}))}function f(t,e){var o,r,n,a,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,r&&(n=2&a[0]?r.return:a[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,a[1])).done)return n;switch(r=0,n&&(a=[2&a[0],n.value]),a[0]){case 0:case 1:n=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(n=(n=i.trys).length>0&&n[n.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!n||a[1]>n[0]&&a[1]<n[3])){i.label=a[1];break}if(6===a[0]&&i.label<n[1]){i.label=n[1],n=a;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(a);break}n[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{o=n=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function b(t){var e="function"==typeof Symbol&&Symbol.iterator,o=e&&t[e],r=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var r,n,a=o.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){n={error:t}}finally{try{r&&!r.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return i}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(w(arguments[e]));return t}var k={goHome:"Go home",goBack:"Go back",emptyState:"No item(s) to display"};function v(t,e){return t.id&&e.id?t.id===e.id:t===e}var C=function(){function t(t,o,r,n){this._markdownUrlLoaderService=t,this._changeDetectorRef=o,this._sanitizer=r,this._http=n,this.copyCodeToClipboard=!1,this.copyCodeTooltips={},this.buttonClicked=new e.EventEmitter,this.historyStack=[],this.currentMenuItems=[],this.loading=!1}return t.prototype.clickListener=function(t){var e,o=t.srcElement;o.matches("a[href]")&&(e=o,!r.isAnchorLink(e)&&e.pathname.endsWith(".md"))&&this.handleLinkClick(t)},Object.defineProperty(t.prototype,"showGoBackButton",{get:function(){return this.historyStack.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHomeButton",{get:function(){return this.historyStack.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this.showHomeButton||this.showGoBackButton||!!this.currentItemTitle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMenu",{get:function(){return this.currentMenuItems&&this.currentMenuItems.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTdMarkdownLoader",{get:function(){return!!this.currentMarkdownItem&&!!this.currentMarkdownItem.url&&!this.showTdMarkdown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTdMarkdown",{get:function(){return!!this.currentMarkdownItem&&!!this.currentMarkdownItem.markdownString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){if(this.currentMarkdownItem)return this.currentMarkdownItem.url},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"footerComponent",{get:function(){return this.currentMarkdownItem&&this.currentMarkdownItem.footer?this.currentMarkdownItem.footer:this.footer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"httpOptions",{get:function(){if(this.currentMarkdownItem)return this.currentMarkdownItem.httpOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markdownString",{get:function(){if(this.currentMarkdownItem)return this.currentMarkdownItem.markdownString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){if(this.currentMarkdownItem)return this.currentMarkdownItem.anchor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showEmptyState",{get:function(){return!this.items||this.items.length<1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"goHomeLabel",{get:function(){return this.labels&&this.labels.goHome||k.goHome},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"goBackLabel",{get:function(){return this.labels&&this.labels.goBack||k.goBack},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emptyStateLabel",{get:function(){return this.labels&&this.labels.emptyState||k.emptyState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentItemTitle",{get:function(){return this.historyStack.length<1?"":this.currentMarkdownItem?this.getTitle(this.currentMarkdownItem):this.historyStack.length>0?this.getTitle(this.historyStack[this.historyStack.length-1]):""},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){return m(this,void 0,void 0,(function(){return f(this,(function(e){return t.items&&this.reset(),t.startAt&&this.items&&this.startAt&&this._jumpTo(this.startAt),[2]}))}))},t.prototype.hasChildrenOrChildrenUrl=function(t){return t.children&&t.children.length>0||!!t.childrenUrl},t.prototype.clearErrors=function(){this.markdownLoaderError=void 0,this.childrenUrlError=void 0},t.prototype.reset=function(){this.loading=!1,this.clearErrors(),this.items&&1===this.items.length&&!this.hasChildrenOrChildrenUrl(this.items[0])?(this.currentMenuItems=[],this.currentMarkdownItem=this.items[0]):(this.currentMenuItems=this.items,this.currentMarkdownItem=void 0),this.historyStack=[],this._changeDetectorRef.markForCheck()},t.prototype.goBack=function(){if(this.loading=!1,this.clearErrors(),this.historyStack.length>1){var t=this.historyStack[this.historyStack.length-2];this.currentMarkdownItem=t,this.historyStack=this.historyStack.slice(0,-1),this.setChildrenAsCurrentMenuItems(t)}else this.reset();this._changeDetectorRef.markForCheck()},t.prototype.handleItemSelected=function(t){this.clearErrors(),this.currentMarkdownItem=t,this.historyStack=y(this.historyStack,[t]),this.setChildrenAsCurrentMenuItems(t),this._changeDetectorRef.markForCheck()},t.prototype.setChildrenAsCurrentMenuItems=function(t){return m(this,void 0,void 0,(function(){var e,o,r;return f(this,(function(n){switch(n.label){case 0:return this.currentMenuItems=[],this.loading=!0,this._changeDetectorRef.markForCheck(),e=this.historyStack,o=[],t.children?(o=t.children,[3,3]):[3,1];case 1:return t.childrenUrl?[4,this.loadChildrenUrl(t)]:[3,3];case 2:o=n.sent(),n.label=3;case 3:return r=this.historyStack,e.length===r.length&&e.every((function(t,e){return t===r[e]}))&&(this.currentMenuItems=o),this.loading=!1,this._changeDetectorRef.markForCheck(),[2]}}))}))},t.prototype.loadChildrenUrl=function(t){return m(this,void 0,void 0,(function(){var o,r;return f(this,(function(n){switch(n.label){case 0:o=this._sanitizer.sanitize(e.SecurityContext.URL,t.childrenUrl),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._http.get(o,g({},t.httpOptions)).toPromise()];case 2:return[2,n.sent()];case 3:return r=n.sent(),this.handleChildrenUrlError(r),[2,[]];case 4:return[2]}}))}))},t.prototype.getTitle=function(t){if(t)return(r.removeLeadingHash(t.anchor)||t.title||function(t){if(t){var e=new URL(t);if(e.hash)return r.removeLeadingHash(e.hash);var o=e.pathname.split("/");return o[o.length-1].replace(/\.[^/.]+$/,"")}}(t.url)||function(t){if(t){var e=t.split(/[\r\n]+/).find((function(t){return!!t}));return r.removeLeadingHash(e).trim()}}(t.markdownString)||"").trim()},t.prototype.getIcon=function(t){if(t)return t.icon||"subject"},t.prototype.handleChildrenUrlError=function(t){this.childrenUrlError=t.message,this._changeDetectorRef.markForCheck()},t.prototype.handleMarkdownLoaderError=function(t){this.markdownLoaderError=t.message,this._changeDetectorRef.markForCheck()},t.prototype._jumpTo=function(t){return m(this,void 0,void 0,(function(){var e,o=this;return f(this,(function(r){switch(r.label){case 0:return this.reset(),this.items&&this.items.length>0?(e=[],Array.isArray(t)?[4,this.followPath(this.items,t)]:[3,2]):[3,4];case 1:return e=r.sent(),[3,3];case 2:e=this.findPath(this.items,t),r.label=3;case 3:(e||[]).forEach((function(t){return o.handleItemSelected(t)})),r.label=4;case 4:return this._changeDetectorRef.markForCheck(),[2]}}))}))},t.prototype.followPath=function(t,e){return m(this,void 0,void 0,(function(){var o,r,n,a,i,l,s,c,d,u,h;return f(this,(function(p){switch(p.label){case 0:o=[],r=t,n=this.compareWith||v,a=function(t){var e;return f(this,(function(a){switch(a.label){case 0:return(e=r.find((function(e){return n(t,e)})))?(o=y(o,[e]),e.children?(r=e.children,[3,3]):[3,1]):[3,4];case 1:return e.childrenUrl?[4,i.loadChildrenUrl(e)]:[3,3];case 2:r=a.sent(),a.label=3;case 3:return[3,5];case 4:return[2,"break"];case 5:return[2]}}))},i=this,p.label=1;case 1:p.trys.push([1,6,7,8]),l=b(e),s=l.next(),p.label=2;case 2:return s.done?[3,5]:(c=s.value,[5,a(c)]);case 3:if("break"===p.sent())return[3,5];p.label=4;case 4:return s=l.next(),[3,2];case 5:return[3,8];case 6:return d=p.sent(),u={error:d},[3,8];case 7:try{s&&!s.done&&(h=l.return)&&h.call(l)}finally{if(u)throw u.error}return[7];case 8:return o.length!==e.length&&(o=[]),[2,o]}}))}))},t.prototype.findPath=function(t,e){var o,r,n=this.compareWith||v;if(t)try{for(var a=b(t),i=a.next();!i.done;i=a.next()){var l=i.value;if(n(l,e))return[l];var s=this.findPath(l.children,e);if(s)return y([l],s)}}catch(t){o={error:t}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}},t.prototype.handleLinkClick=function(t){return m(this,void 0,void 0,(function(){var e,o,r;return f(this,(function(n){switch(n.label){case 0:t.preventDefault(),e=t.target,o=new URL(e.href),this.loading=!0,this._changeDetectorRef.markForCheck(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this._markdownUrlLoaderService.load(o.href)];case 2:return r=n.sent(),this.handleItemSelected({markdownString:r,url:o.href}),this.markdownWrapper.nativeElement.scrollTop=0,[3,5];case 3:return n.sent(),window.open(o.href,"_blank").focus(),[3,5];case 4:return this.loading=!1,[7];case 5:return this._changeDetectorRef.markForCheck(),[2]}}))}))},t.decorators=[{type:e.Component,args:[{selector:"td-markdown-navigator",template:'<ng-container *ngIf="!showEmptyState">\n  <mat-progress-bar *ngIf="loading" mode="indeterminate" color="accent"></mat-progress-bar>\n\n  <ng-container *ngIf="showHeader">\n    <div [style.display]="\'flex\'">\n      <button\n        id="td-markdown-navigator-home-button"\n        *ngIf="showHomeButton"\n        mat-icon-button\n        [matTooltip]="goHomeLabel"\n        (click)="reset()"\n        [attr.data-test]="\'home-button\'"\n      >\n        <mat-icon [attr.aria-label]="goHomeLabel">\n          home\n        </mat-icon>\n      </button>\n\n      <button\n        id="td-markdown-navigator-back-button"\n        *ngIf="showGoBackButton"\n        mat-icon-button\n        [matTooltip]="goBackLabel"\n        (click)="goBack()"\n        [attr.data-test]="\'back-button\'"\n      >\n        <mat-icon [attr.aria-label]="goBackLabel">\n          arrow_back\n        </mat-icon>\n      </button>\n      <span flex *ngIf="currentItemTitle" class="mat-body-2 title truncate" [attr.data-test]="\'title\'">\n        {{ currentItemTitle }}\n      </span>\n    </div>\n\n    <mat-divider [style.position]="\'relative\'"></mat-divider>\n  </ng-container>\n\n  <div class="scroll-area" id="td-markdown-navigator-content">\n    <td-message\n      *ngIf="childrenUrlError"\n      [sublabel]="childrenUrlError"\n      color="warn"\n      icon="error"\n      [attr.data-test]="\'children-url-error\'"\n    ></td-message>\n    <div *ngIf="showMenu" class="td-markdown-list">\n      <mat-action-list>\n        <button\n          *ngFor="let item of currentMenuItems; index as index"\n          [id]="\'td-markdown-navigator-list-item-\' + (item.id ? item.id : index)"\n          (click)="handleItemSelected(item)"\n          mat-list-item\n          [matTooltip]="getTitle(item)"\n          matTooltipPosition="before"\n          matTooltipShowDelay="500"\n        >\n          <mat-icon matListIcon>\n            {{ getIcon(item) }}\n          </mat-icon>\n          <span matLine class="truncate">\n            {{ getTitle(item) }}\n          </span>\n          <span matLine class="truncate">{{ item.description }}</span>\n          <mat-divider></mat-divider>\n        </button>\n      </mat-action-list>\n    </div>\n\n    <div *ngIf="showTdMarkdownLoader || showTdMarkdown" class="markdown-wrapper" #markdownWrapper>\n      <td-message\n        *ngIf="markdownLoaderError"\n        [sublabel]="markdownLoaderError"\n        color="warn"\n        icon="error"\n        [attr.data-test]="\'markdown-loader-error\'"\n      ></td-message>\n      <td-flavored-markdown-loader\n        *ngIf="showTdMarkdownLoader"\n        [url]="url"\n        [httpOptions]="httpOptions"\n        [anchor]="anchor"\n        [copyCodeToClipboard]="copyCodeToClipboard"\n        [copyCodeTooltips]="copyCodeTooltips"\n        (loadFailed)="handleMarkdownLoaderError($event)"\n      ></td-flavored-markdown-loader>\n      <td-flavored-markdown\n        *ngIf="showTdMarkdown"\n        [content]="markdownString"\n        [hostedUrl]="url"\n        [anchor]="anchor"\n        [copyCodeToClipboard]="copyCodeToClipboard"\n        [copyCodeTooltips]="copyCodeTooltips"\n        (buttonClicked)="buttonClicked.emit($event)"\n      ></td-flavored-markdown>\n    </div>\n    <ng-container *ngComponentOutlet="footerComponent"></ng-container>\n  </div>\n</ng-container>\n\n<div *ngIf="showEmptyState" layout="column" layout-align="center center" class="empty-state">\n  <mat-icon matListAvatar>subject</mat-icon>\n  <h2>{{ emptyStateLabel }}</h2>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[":host{position:relative;height:100%;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host .scroll-area{min-height:1px;overflow-y:auto;-ms-flex:1;flex:1;box-sizing:border-box}:host .markdown-wrapper{padding:16px 16px 0}:host .td-markdown-list>.mat-list{padding-top:0}:host td-flavored-markdown-loader ::ng-deep .mat-progress-bar{top:0;left:0;right:0;position:absolute}:host .title{display:inline-block;vertical-align:middle;margin:8px 0;padding-left:16px}.truncate{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.empty-state{padding:32px}.empty-state mat-icon{font-size:4em}"]}]}],t.ctorParameters=function(){return[{type:r.TdMarkdownLoaderService},{type:e.ChangeDetectorRef},{type:n.DomSanitizer},{type:a.HttpClient}]},t.propDecorators={items:[{type:e.Input}],labels:[{type:e.Input}],startAt:[{type:e.Input}],copyCodeToClipboard:[{type:e.Input}],copyCodeTooltips:[{type:e.Input}],footer:[{type:e.Input}],compareWith:[{type:e.Input}],buttonClicked:[{type:e.Output}],markdownWrapper:[{type:e.ViewChild,args:["markdownWrapper"]}],clickListener:[{type:e.HostListener,args:["click",["$event"]]}]},t}();var I={title:"Help",close:"Close",dock:"Dock",unDock:"Undock"},D=function(){function t(){this.toolbarColor="primary",this.docked=!1,this.copyCodeToClipboard=!1,this.copyCodeTooltips={},this.closed=new e.EventEmitter,this.dockToggled=new e.EventEmitter,this.buttonClicked=new e.EventEmitter}return Object.defineProperty(t.prototype,"markdownNavigatorLabels",{get:function(){if(this.labels){var t=this.labels;return{goHome:t.goHome,goBack:t.goBack,emptyState:t.emptyState}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleLabel",{get:function(){return this.labels&&this.labels.title||I.title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeLabel",{get:function(){return this.labels&&this.labels.close||I.close},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggleDockedStateLabel",{get:function(){return this.docked?this.labels&&this.labels.unDock||I.unDock:this.labels&&this.labels.dock||I.dock},enumerable:!0,configurable:!0}),t.prototype.toggleDockedState=function(){this.dockToggled.emit(this.docked)},t.decorators=[{type:e.Component,args:[{selector:"td-markdown-navigator-window",template:'<td-window-dialog\n  [toolbarColor]="toolbarColor"\n  [docked]="docked"\n  [title]="titleLabel"\n  [toggleDockedStateLabel]="toggleDockedStateLabel"\n  [closeLabel]="closeLabel"\n  (dockToggled)="toggleDockedState()"\n  (closed)="closed.emit()"\n>\n  <td-markdown-navigator\n    [items]="items"\n    [labels]="markdownNavigatorLabels"\n    [style.display]="docked ? \'none\' : \'inherit\'"\n    [startAt]="startAt"\n    [compareWith]="compareWith"\n    [footer]="footer"\n    [copyCodeToClipboard]="copyCodeToClipboard"\n    [copyCodeTooltips]="copyCodeTooltips"\n    (buttonClicked)="buttonClicked.emit($event)"\n  ></td-markdown-navigator>\n</td-window-dialog>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[":host{height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}td-markdown-navigator{height:calc(100% - 56px)}"]}]}],t.propDecorators={items:[{type:e.Input}],labels:[{type:e.Input}],toolbarColor:[{type:e.Input}],startAt:[{type:e.Input}],compareWith:[{type:e.Input}],docked:[{type:e.Input}],copyCodeToClipboard:[{type:e.Input}],copyCodeTooltips:[{type:e.Input}],footer:[{type:e.Input}],closed:[{type:e.Output}],dockToggled:[{type:e.Output}],buttonClicked:[{type:e.Output}]},t}();var M={bottom:"0px",right:"0px"},S={hasBackdrop:!1,closeOnNavigation:!0,panelClass:["td-window-dialog"],position:M,height:"75vh",width:"360px",maxWidth:"100vw"};var T=function(){function t(t,e,o){this._tdDialogService=t,this._document=e,this.rendererFactory=o,this.markdownNavigatorWindowDialog=void 0,this.markdownNavigatorWindowDialogsOpen=0,this._renderer2=o.createRenderer(void 0,void 0)}return t.prototype.open=function(t){var e=this;this.close();var o=y(S.panelClass);t.dialogConfig&&t.dialogConfig.panelClass&&(o=Array.isArray(t.dialogConfig.panelClass)?y(t.dialogConfig.panelClass):[t.dialogConfig.panelClass]);var r=g(g(g({},S),t.dialogConfig),{panelClass:o}),n=this._tdDialogService.openDraggable({component:D,config:r,dragHandleSelectors:[".td-window-dialog-toolbar"],draggableClass:"td-draggable-markdown-navigator-window"}),a=n.matDialogRef,i=n.dragRefSubject;return this.markdownNavigatorWindowDialog=a,this.markdownNavigatorWindowDialog.componentInstance.items=t.items,this.markdownNavigatorWindowDialog.componentInstance.labels=t.labels,this.markdownNavigatorWindowDialog.componentInstance.startAt=t.startAt,this.markdownNavigatorWindowDialog.componentInstance.copyCodeToClipboard=t.copyCodeToClipboard,this.markdownNavigatorWindowDialog.componentInstance.copyCodeTooltips=t.copyCodeTooltips,this.markdownNavigatorWindowDialog.componentInstance.compareWith=t.compareWith,this.markdownNavigatorWindowDialog.componentInstance.toolbarColor="toolbarColor"in t?t.toolbarColor:"primary",this.markdownNavigatorWindowDialogsOpen++,this.markdownNavigatorWindowDialog.componentInstance.footer=t.footer,i.subscribe((function(t){e.dragRef=t,e.resizableDraggableDialog=new h.ResizableDraggableDialog(e._document,e._renderer2,e.markdownNavigatorWindowDialog,e.dragRef)})),this._handleEvents(),this.markdownNavigatorWindowDialog},t.prototype.close=function(){this.markdownNavigatorWindowDialog&&(this.resizableDraggableDialog&&this.resizableDraggableDialog.detach(),this.markdownNavigatorWindowDialog.close())},Object.defineProperty(t.prototype,"isOpen",{get:function(){return this.markdownNavigatorWindowDialogsOpen>0},enumerable:!0,configurable:!0}),t.prototype._handleEvents=function(){var t,e,o=this;this.markdownNavigatorWindowDialog.componentInstance.closed.subscribe((function(){return o.close()})),this.markdownNavigatorWindowDialog.componentInstance.dockToggled.subscribe((function(r){r?(o.markdownNavigatorWindowDialog.componentInstance.docked=!1,o.markdownNavigatorWindowDialog.updateSize(e.width,e.height),o.markdownNavigatorWindowDialog.updatePosition({top:"0px",right:"0px",bottom:"0px",left:"0px"}),o.dragRef.setFreeDragPosition(t),o.dragRef.disabled=!1,o.resizableDraggableDialog.attach()):(e=o._getDialogSize(o.markdownNavigatorWindowDialog),t=o.dragRef.getFreeDragPosition(),o.markdownNavigatorWindowDialog.componentInstance.docked=!0,o.markdownNavigatorWindowDialog.updateSize("360px","56px"),o.markdownNavigatorWindowDialog.updatePosition(M),o.dragRef.reset(),o.dragRef.disabled=!0,o.resizableDraggableDialog.detach())})),this.markdownNavigatorWindowDialog.afterClosed().toPromise().then((function(){o.markdownNavigatorWindowDialogsOpen--}))},t.prototype._getDialogSize=function(t){var e=getComputedStyle(this._document.getElementById(t.id).parentElement);return{width:e.width,height:e.height}},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:h.TdDialogService},{type:void 0,decorators:[{type:e.Inject,args:[o.DOCUMENT]}]},{type:e.RendererFactory2}]},t}();var x=function(){function t(t){this._markdownNavigatorWindowService=t,this.disabled=!1}return t.prototype.click=function(){this.disabled||this._markdownNavigatorWindowService.open(this.config)},t.decorators=[{type:e.Directive,args:[{selector:"[tdMarkdownNavigatorWindow]"}]}],t.ctorParameters=function(){return[{type:T}]},t.propDecorators={config:[{type:e.Input,args:["tdMarkdownNavigatorWindow"]}],disabled:[{type:e.Input}],click:[{type:e.HostListener,args:["click"]}]},t}();var L=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[o.CommonModule,i.MatButtonModule,l.MatTooltipModule,s.MatListModule,c.MatIconModule,d.MatProgressBarModule,p.CovalentMessageModule,u.CovalentFlavoredMarkdownModule,h.CovalentDialogsModule],declarations:[C,D,x],exports:[C,D,x],providers:[T]}]}],t}();t.CovalentMarkdownNavigatorModule=L,t.DEFAULT_MARKDOWN_NAVIGATOR_LABELS=k,t.DEFAULT_MARKDOWN_NAVIGATOR_WINDOW_LABELS=I,t.TdMarkdownNavigatorComponent=C,t.TdMarkdownNavigatorWindowComponent=D,t.TdMarkdownNavigatorWindowService=T,t.Éµa=x,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=covalent-markdown-navigator.umd.min.js.map